base_buildtime = @b1_time
planet_limit = 1
category = pop_assembly
icon = building_automation_1

building_sets = {
    $ZONE$
}

potential = {
    owner = {
        is_wilderness_empire = no
        giga_has_frameworld_origin = yes
    }
    giga_is_frame_world = yes
}

upgrades = {
    building_fwt_automation_$ZONE$_2
}

allow = {
    hidden_trigger = {
        OR = {
            owner = { is_ai = no }
            NAND = {
                free_district_slots = 0
                free_building_slots <= 1
                free_housing <= 0
                free_jobs <= 0
            }
        }
    }
}

destroy_trigger = {
    owner = {
        is_wilderness_empire = yes
    }
}

planet_modifier = {
    district_automated_workforce = 0.25
}

triggered_planet_modifier = {
    potential = {
        exists = owner
        owner = {
            has_tradition = tr_est_cybernetics_1
        }
    }
    modifier = {
        district_automated_workforce = 0.05
    }
}

resources = {
    category = planet_buildings
    cost = {
        minerals = @b2_minerals
    }
    upkeep = {
        energy = @[ b3_upkeep * 1.5 ]
        mult = value:fwt_districts_value|DISTRICT|district_giga_frameworld_urban_$DISTRICT$|COMPLETION|$COMPLETION$|
    }
    upkeep = {
        trigger = {
            exists = owner
            owner = {
                has_tradition = tr_est_cybernetics_1
            }
        }
        energy = 2.4
        mult = value:fwt_districts_value|DISTRICT|district_giga_frameworld_urban_$DISTRICT$|COMPLETION|$COMPLETION$|
    }
}

prerequisites = {
    tech_assembly_pattern
}

show_tech_unlock_if = {
    always = no
}

desc = {
    text = building_fwt_automation_1_upkeep
}