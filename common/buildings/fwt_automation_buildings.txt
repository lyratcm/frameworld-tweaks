building_fwt_automation_city_1 = {
    base_buildtime = @b1_time
    planet_limit = 1
    category = pop_assembly
    icon = building_automation_1

    building_sets = {
        government
        urban
    }

    potential = {
        owner = {
            is_wilderness_empire = no
        }
        giga_is_frame_world = yes
    }

    upgrades = {
        building_fwt_automation_city_2
    }

    allow = {
        hidden_trigger = {
            OR = {
                owner = { is_ai = no }
                NAND = {
                    free_district_slots = 0
                    free_building_slots <= 1
                    free_housing <= 0
                    free_jobs <= 0
                }
            }
        }
    }

    destroy_trigger = {
        owner = {
            is_wilderness_empire = yes
        }
        giga_is_frame_world = yes
    }

    planet_modifier = {
        district_automated_workforce = 0.25
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_tradition = tr_est_cybernetics_1
            }
        }
        modifier = {
            district_automated_workforce = 0.05
        }
    }

    # triggered_planet_modifier = {
    #     potential = {
    #         always = yes
    #     }
    #     modifier = {
    #         district_automated_workforce = 1
    #     }
    #     multiplier = modifier:modifier:district_automated_workforce_add
    # }

    resources = {
        category = planet_buildings
        cost = {
            minerals = @b2_minerals
        }
        upkeep = {
            energy = @[ b4_upkeep * 1.5 ]
            mult = value:fwt_city_districts_value
        }
        upkeep = {
            trigger = {
                exists = owner
                owner = {
                    has_tradition = tr_est_cybernetics_1
                }
            }
            energy = -3
            mult = value:fwt_city_districts_value
        }
    }

    prerequisites = {
        tech_assembly_pattern
    }

    show_tech_unlock_if = {
        always = no
    }

    desc = {
        text = building_fwt_automation_city_1_upkeep
    }
}

building_fwt_automation_city_2 = {
    base_buildtime = @b2_time
    planet_limit = 1
    can_build = no
    category = pop_assembly
    icon = building_automation_2

    building_sets = {
        government
        urban
    }

    potential = {
        owner = {
            is_wilderness_empire = no
            giga_has_frameworld_origin = yes
        }
        giga_is_frame_world = yes
    }

    allow = {
        hidden_trigger = {
            OR = {
                owner = { is_ai = no }
                NAND = {
                    free_district_slots = 0
                    free_building_slots <= 1
                    free_housing <= 0
                    free_jobs <= 0
                }
            }
        }
    }

    destroy_trigger = {
        owner = {
            is_wilderness_empire = yes
        }
    }

    planet_modifier = {
        district_automated_workforce = 0.5
    }

    triggered_planet_modifier = {
        potential = {
            exists = owner
            owner = {
                has_tradition = tr_est_cybernetics_1
            }
        }
        modifier = {
            district_automated_workforce = 0.05
        }
    }

    resources = {
        category = planet_buildings
        cost = {
            minerals = @b3_minerals
        }
        upkeep = {
            energy = @[b5_upkeep * 1.5 ]
            mult = value:fwt_city_districts_value
        }
        upkeep = {
            trigger = {
                exists = owner
                owner = {
                    has_tradition = tr_est_cybernetics_1
                }
            }
            energy = -3.6
            mult = value:fwt_city_districts_value
        }
    }

    prerequisites = {
        tech_construction_templates
    }

    show_tech_unlock_if = {
        always = no
    }

    desc = {
        text = building_fwt_automation_city_2_upkeep
    }
}


building_fwt_automation_foundry_1 = {
    inline_script = {
        script = buildings/fwt_automation_building_1
        ZONE = foundry
        DISTRICT = 01
        COMPLETION = alloy
    }
}

building_fwt_automation_foundry_2 = {
    inline_script = {
        script = buildings/fwt_automation_building_2
        ZONE = foundry
        DISTRICT = 01
        COMPLETION = alloy
    }
}

building_fwt_automation_factory_1 = {
    inline_script = {
        script = buildings/fwt_automation_building_1
        ZONE = factory
        DISTRICT = 02
        COMPLETION = consumer_goods
    }
}

building_fwt_automation_factory_2 = {
    inline_script = {
        script = buildings/fwt_automation_building_2
        ZONE = factory
        DISTRICT = 02
        COMPLETION = consumer_goods
    }
}

building_fwt_automation_generator_1 = {
    inline_script = {
        script = buildings/fwt_automation_building_1
        ZONE = generator
        DISTRICT = 03
        COMPLETION = energy
    }
}

building_fwt_automation_generator_2 = {
    inline_script = {
        script = buildings/fwt_automation_building_2
        ZONE = generator
        DISTRICT = 03
        COMPLETION = energy
    }
}

building_fwt_automation_mining_1 = {
    inline_script = {
        script = buildings/fwt_automation_building_1
        ZONE = mining
        DISTRICT = 04
        COMPLETION = mineral
    }
}

building_fwt_automation_mining_2 = {
    inline_script = {
        script = buildings/fwt_automation_building_2
        ZONE = mining
        DISTRICT = 04
        COMPLETION = mineral
    }
}

building_fwt_automation_farming_1 = {
    inline_script = {
        script = buildings/fwt_automation_building_1
        ZONE = farming
        DISTRICT = 05
        COMPLETION = food
    }
}

building_fwt_automation_farming_2 = {
    inline_script = {
        script = buildings/fwt_automation_building_2
        ZONE = farming
        DISTRICT = 05
        COMPLETION = food
    }
}

building_fwt_automation_unity_1 = {
    inline_script = {
        script = buildings/fwt_automation_building_1
        ZONE = unity
        DISTRICT = 06
        COMPLETION = unity_trade
    }
}

building_fwt_automation_unity_2 = {
    inline_script = {
        script = buildings/fwt_automation_building_2
        ZONE = unity
        DISTRICT = 06
        COMPLETION = unity_trade
    }
}

building_fwt_automation_science_1 = {
    inline_script = {
        script = buildings/fwt_automation_building_1
        ZONE = science
        DISTRICT = 07
        COMPLETION = science
    }
}

building_fwt_automation_science_2 = {
    inline_script = {
        script = buildings/fwt_automation_building_2
        ZONE = science
        DISTRICT = 07
        COMPLETION = science
    }
}

building_fwt_automation_amenities_1 = {
    inline_script = {
        script = buildings/fwt_automation_building_1
        ZONE = amenities
        DISTRICT = 08
        COMPLETION = unity_trade
    }
}

building_fwt_automation_amenities_2 = {
    inline_script = {
        script = buildings/fwt_automation_building_2
        ZONE = amenities
        DISTRICT = 08
        COMPLETION = unity_trade
    }
}

building_fwt_automation_trade_1 = {
    inline_script = {
        script = buildings/fwt_automation_building_1
        ZONE = trade
        DISTRICT = 09
        COMPLETION = unity_trade
    }
}

building_fwt_automation_trade_2 = {
    inline_script = {
        script = buildings/fwt_automation_building_2
        ZONE = trade
        DISTRICT = 09
        COMPLETION = unity_trade
    }
}